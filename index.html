<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Webber Web Server :: Documentation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      body {
        font-family: "Inter", sans-serif;
      }
      pre {
        overflow-x: auto;
        scrollbar-width: thin;
        scrollbar-color: #a0aec0 #edf2f7;
      }
      pre::-webkit-scrollbar {
        height: 8px;
      }
      pre::-webkit-scrollbar-track {
        background: #edf2f7;
        border-radius: 10px;
      }
      pre::-webkit-scrollbar-thumb {
        background-color: #a0aec0;
        border-radius: 10px;
        border: 2px solid #edf2f7;
      }
    </style>
  </head>
  <body class="min-h-screen bg-gradient-to-br from-orange-100 to-amber-200 flex items-center justify-center p-4">
    <div class="bg-white p-8 rounded-xl shadow-2xl max-w-4xl w-full text-center border border-orange-200">
      <!-- Logo and Main Title Section -->
      <img src="./logo.png" alt="Webber Logo" width="250px" class="mx-auto mb-6 h-auto rounded-lg shadow-md" />
      <h1 class="text-5xl font-extrabold text-orange-600 mb-4 tracking-tight">
        Webber Web Server
      </h1>
      <p class="text-lg text-gray-700 mb-8 max-w-2xl mx-auto">
        This is the documentation for our Go-powered web server.
      </p>

      <!-- About Webber Section -->
      <div class="mt-8 pt-6 border-t-2 border-orange-300">
        <!-- <h2 class="text-3xl font-bold text-orange-500 mb-4">Why Webber?</h2> -->
        <p class="text-gray-700 mb-6 leading-relaxed">
          Webber is a modern, high-performance Go web server inspired by Nginx, with support for static file hosting (optimized for Vue.js, React, Angular, and other SPA builds), reverse proxying, WebSocket, rate limiting, gzip compression, in-memory caching, HTTP/2, and TLS.
        </p>
      </div>

      <!-- Features Section -->
      <div class="mt-10 pt-6 border-t-2 border-orange-300">
        <h2 class="text-3xl font-bold text-orange-500 mb-6">Features</h2>
        <ul class="list-disc list-inside mx-auto max-w-2xl text-left text-gray-700 space-y-3">
          <li>
            <strong class="text-orange-600">Logging Middleware:</strong> Logs every HTTP request and response time, providing valuable insights into server activity.
          </li>
          <li>
            <strong class="text-orange-600">Rate Limiting:</strong> Protects against abuse by limiting requests per client IP. Configurable via
            <code class="bg-orange-100 text-orange-800 px-2 py-1 rounded-md text-sm font-mono"
              >RateLimitRPS</code
            >
            and
            <code class="bg-orange-100 text-orange-800 px-2 py-1 rounded-md text-sm font-mono"
              >RateLimitBurst</code
            >.
          </li>
          <li>
            <strong class="text-orange-600">Gzip Compression:</strong>
            Automatically compresses responses for supported clients, significantly reducing bandwidth usage and improving load times.
          </li>
          <li>
            <strong class="text-orange-600">URL Rewriting:</strong> Demonstrates how to redirect or rewrite URLs (e.g.,
            <code class="bg-orange-100 text-orange-800 px-2 py-1 rounded-md text-sm font-mono"
              >/old/example</code
            >
            to
            <code class="bg-orange-100 text-orange-800 px-2 py-1 rounded-md text-sm font-mono"
              >/new/example</code
            >). Try
            <a
              href="/old/example"
              class="text-blue-600 hover:text-blue-800 font-medium underline transition duration-300 ease-in-out"
              >this example</a
            >.
          </li>
          <li>
            <strong class="text-orange-600"
              >Reverse Proxy & Load Balancing:</strong
            >
            Distributes incoming requests across multiple backend servers using a round-robin strategy, enhancing availability and performance. See
            <a
              href="/proxy"
              class="text-blue-600 hover:text-blue-800 font-medium underline transition duration-300 ease-in-out"
              >the proxy endpoint</a
            >.
          </li>
          <li>
            <strong class="text-orange-600">WebSocket Support:</strong> Provides a dedicated endpoint for real-time, bidirectional communication, ideal for interactive applications. Access it at
            <a
              href="/ws"
              class="text-blue-600 hover:text-blue-800 font-medium underline transition duration-300 ease-in-out"
              >/ws</a
            >.
          </li>
          <li>
            <strong class="text-orange-600"
              >Static File Serving with Caching:</strong
            >
            Efficiently serves static assets from the configured directory with in-memory caching based on
            <code class="bg-orange-100 text-orange-800 px-2 py-1 rounded-md text-sm font-mono"
              >CacheTTLSeconds</code
            >.
          </li>
          <li>
            <strong class="text-orange-600">HTTP/2 and TLS:</strong> Secure and high-performance communication enabled by default, ensuring data integrity and faster connections.
          </li>
          <li>
            <strong class="text-orange-600">SPA Routing Support:</strong> Unmatched routes serve
            <code class="bg-orange-100 text-orange-800 px-2 py-1 rounded-md text-sm font-mono"
              >index.html</code
            >
            for client-side navigation (Vue.js, React, Angular, etc.), crucial for single-page applications.
          </li>
        </ul>
      </div>

      <!-- Getting Started Section -->
      <div class="mt-10 pt-6 border-t-2 border-orange-300">
        <h2 class="text-3xl font-bold text-orange-500 mb-6">Getting Started</h2>
        <p class="text-gray-700 mb-4 text-left leading-relaxed">
          This section will guide you through the initial setup and configuration of your Webber web server.
        </p>
        <h3 class="text-left text-2xl font-semibold text-orange-400 mb-4">1. Installation</h3>
        <pre
          class="bg-gray-800 text-green-400 p-4 rounded-lg text-left text-sm overflow-x-auto mb-8 shadow-inner"
          ><code>curl -sSL https://webber-docs.vercel.app/install.sh | sudo bash</code></pre>
        <p class="text-gray-700 text-left mb-4 leading-relaxed">
  The provided install script automates the setup process, performing the following actions:
</p>
<ul class="list-disc list-inside max-w-xl text-left text-gray-700 space-y-1 mb-6">
  <li>Creates a dedicated system user and group <code class="bg-orange-100 text-orange-800 px-2 py-1 rounded-md text-sm font-mono"
              >webber</code> for enhanced security.</li>
  <li>Sets up essential directories for configuration <code class="bg-orange-100 text-orange-800 px-2 py-1 rounded-md text-sm font-mono"
              >/etc/webber</code> and static files  <code class="bg-orange-100 text-orange-800 px-2 py-1 rounded-md text-sm font-mono"
              >/var/www/webber</code>.</li>
  <li>Downloads pre-built Webber binary and installs it to  <code class="bg-orange-100 text-orange-800 px-2 py-1 rounded-md text-sm font-mono"
              >/usr/local/bin</code>.</li>
  <li>Generates a default <code class="bg-orange-100 text-orange-800 px-2 py-1 rounded-md text-sm font-mono"
              >config.json</code> file in <code class="bg-orange-100 text-orange-800 px-2 py-1 rounded-md text-sm font-mono"
              >/etc/webber</code> with common settings.</li>
  <li>Prepares for static file serving by creating a symlink from <code class="bg-orange-100 text-orange-800 px-2 py-1 rounded-md text-sm font-mono"
              >/etc/webber/static</code>  to <code class="bg-orange-100 text-orange-800 px-2 py-1 rounded-md text-sm font-mono"
              >/var/www/webber</code>.</li>
  <li>Generates self-signed TLS certificates <code class="bg-orange-100 text-orange-800 px-2 py-1 rounded-md text-sm font-mono"
              >cert.pem</code> and <code class="bg-orange-100 text-orange-800 px-2 py-1 rounded-md text-sm font-mono"
              >key.pem</code> for HTTPS, if not already present.</li>
  <li>Grants necessary network binding capabilities to the Webber binary for privileged ports <code class="bg-orange-100 text-orange-800 px-2 py-1 rounded-md text-sm font-mono"
              >443</code>.</li>
  <li>Configures and starts a systemd service to manage the Webber server, ensuring it runs automatically and restarts on failure.</li>
</ul>
        

        <h3 class="text-2xl text-left font-semibold text-orange-400 mb-4">2. Configuration</h3>
        <p class="text-gray-700 mb-4 leading-relaxed">
          Customize your Webber Web Server by editing the
          <code class="bg-orange-100 text-orange-800 px-2 py-1 rounded-md text-sm font-mono"
            >/etc/webber/config.json</code
          >
          file. Here's a detailed breakdown of the configurable parameters:
        </p>
        <pre
          class="bg-gray-800 text-white p-4 rounded-lg text-left text-sm overflow-x-auto shadow-inner"
        ><code>{
  "port": "443",              // The port on which the server will listen (e.g., "80" for HTTP, "443" for HTTPS).
  "static_dir": "/var/www/webber", // The directory from which static files (like index.html, JS, CSS, images) will be served.
  "rate_limit_rps": 10.0,     // The maximum number of requests per second allowed per client IP address.
  "rate_limit_burst": 20,     // The maximum burst capacity for the rate limiter, allowing temporary spikes in requests.
  "cache_ttl_seconds": 300,   // The time-to-live (TTL) for static file cache entries, in seconds.
  "certFile": "cert.pem",     // Path to your TLS certificate file (automatically generated by install.sh if not present).
  "keyFile": "key.pem",       // Path to your TLS key file (automatically generated by install.sh if not present).
  "debug": false              // Set to true for more verbose logging, false for production environments.
}</code></pre>
      </div>

      <!-- Deploy SPA Section -->
      <div class="mt-10 pt-6 border-t-2 border-orange-300">
        <h2 class="text-2xl text-left font-bold text-orange-500 mb-6">3. Deploy an SPA (Vue.js, React, Angular)</h2>

        <h3 class="text-2xl font-semibold text-left text-orange-400 mb-4">Vue.js</h3>
        <p class="text-gray-700 mb-2 text-left">1. Build your Vue.js project:</p>
        <pre
          class="bg-gray-800 text-green-400 p-4 rounded-lg text-left text-sm overflow-x-auto mb-4 shadow-inner"
          ><code>npm run build</code></pre>
        <p class="text-gray-700 mb-2 text-left">2. Copy the contents of the <code class="bg-orange-100 text-orange-800 px-2 py-1 rounded-md text-sm font-mono">dist/</code> folder to <code class="bg-orange-100 text-orange-800 px-2 py-1 rounded-md text-sm font-mono">/var/www/webber</code>:</p>
        <pre
          class="bg-gray-800 text-green-400 p-4 rounded-lg text-left text-sm overflow-x-auto mb-4 shadow-inner"
          ><code>sudo cp -r dist/* /var/www/webber/
sudo chown -R webber:webber /var/www/webber
sudo chmod -R 755 /var/www/webber</code></pre>
        <p class="text-gray-700 mb-2 text-left">3. Restart Webber to apply changes:</p>
        <pre
          class="bg-gray-800 text-green-400 p-4 rounded-lg text-left text-sm overflow-x-auto mb-4 shadow-inner"
          ><code>sudo systemctl restart webber</code></pre>
        <p class="text-gray-700 mb-8 text-left">4. Visit <a href="https://localhost/" class="text-blue-600 hover:text-blue-800 font-medium underline transition duration-300 ease-in-out">https://localhost/</a> to see your Vue app in action.</p>

        <h3 class="text-2xl text-left font-semibold text-orange-400 mb-4">React</h3>
        <p class="text-gray-700 mb-2 text-left">1. Build your React project:</p>
        <pre
          class="bg-gray-800 text-green-400 p-4 rounded-lg text-left text-sm overflow-x-auto mb-4 shadow-inner"
          ><code>npm run build</code></pre>
        <p class="text-gray-700 mb-2 text-left">2. Copy the contents of the <code class="bg-orange-100 text-orange-800 px-2 py-1 rounded-md text-sm font-mono">build/</code> folder to <code class="bg-orange-100 text-orange-800 px-2 py-1 rounded-md text-sm font-mono">/var/www/webber</code>:</p>
        <pre
          class="bg-gray-800 text-green-400 p-4 rounded-lg text-left text-sm overflow-x-auto mb-4 shadow-inner"
          ><code>sudo cp -r build/* /var/www/webber/
sudo chown -R webber:webber /var/www/webber
sudo chmod -R 755 /var/www/webber</code></pre>
        <p class="text-gray-700 mb-2 text-left">3. Restart Webber to apply changes:</p>
        <pre
          class="bg-gray-800 text-green-400 p-4 rounded-lg text-left text-sm overflow-x-auto mb-4 shadow-inner"
          ><code>sudo systemctl restart webber</code></pre>
        <p class="text-gray-700 mb-8 text-left">4. Visit <a href="https://localhost/" class="text-blue-600 hover:text-blue-800 font-medium underline transition duration-300 ease-in-out">https://localhost/</a> to see your React app in action.</p>

        <h3 class="text-2xl font-semibold text-orange-400 mb-4 text-left">Angular</h3>
        <p class="text-gray-700 mb-2 text-left">1. Build your Angular project:</p>
        <pre
          class="bg-gray-800 text-green-400 p-4 rounded-lg text-left text-sm overflow-x-auto mb-4 shadow-inner"
          ><code>ng build --prod</code></pre>
        <p class="text-gray-700 mb-2 text-left">2. Copy the contents of the <code class="bg-orange-100 text-orange-800 px-2 py-1 rounded-md text-sm font-mono">dist/&lt;project-name&gt;/</code> folder to <code class="bg-orange-100 text-orange-800 px-2 py-1 rounded-md text-sm font-mono">/var/www/webber</code>:</p>
        <pre
          class="bg-gray-800 text-green-400 p-4 rounded-lg text-left text-sm overflow-x-auto mb-4 shadow-inner"
          ><code>sudo cp -r dist/&lt;project-name&gt;/* /var/www/webber/
sudo chown -R webber:webber /var/www/webber
sudo chmod -R 755 /var/www/webber</code></pre>
        <p class="text-gray-700 mb-2 text-left">3. Restart Webber to apply changes:</p>
        <pre
          class="bg-gray-800 text-green-400 p-4 rounded-lg text-left text-sm overflow-x-auto mb-4 shadow-inner"
          ><code>sudo systemctl restart webber</code></pre>
        <p class="text-gray-700 mb-8 text-left">4. Visit <a href="https://localhost/" class="text-blue-600 hover:text-blue-800 font-medium underline transition duration-300 ease-in-out">https://localhost/</a> to see your Angular app in action.</p>
      </div>

      <!-- Default Welcome Page Section -->
      <div class="mt-10 pt-6 border-t-2 border-orange-300">
        <h2 class="text-3xl font-bold text-orange-500 mb-4">Default Welcome Page</h2>
        <p class="text-gray-700 mb-6 leading-relaxed">
          The current
          <code class="bg-orange-100 text-orange-800 px-2 py-1 rounded-md text-sm font-mono">index.html</code>
          you are viewing serves as a comprehensive demonstration of Webber's features and configuration options. To deploy your own single-page application, simply replace this file with your SPA's build output as detailed in the deployment instructions above.
        </p>
      </div>

      <!-- Static File MIME Types Section -->
      <div class="mt-10 pt-6 border-t-2 border-orange-300">
        <h2 class="text-3xl font-bold text-orange-500 mb-4">Static File MIME Types</h2>
        <p class="text-gray-700 mb-6 leading-relaxed">
          Webber automatically provides correct MIME types for all common static assets, including CSS, JavaScript, fonts, SVG, and more. This ensures seamless compatibility and optimal performance for modern frontend builds.
        </p>
      </div>

      <!-- TLS Certificates Section -->
      <div class="mt-10 pt-6 border-t-2 border-orange-300">
        <h2 class="text-3xl font-bold text-orange-500 mb-4">TLS Certificates</h2>
        <p class="text-gray-700 mb-6 leading-relaxed">
          The <code class="bg-orange-100 text-orange-800 px-2 py-1 rounded-md text-sm font-mono">install.sh</code> script conveniently generates self-signed certificates for immediate use if no custom certificates are provided. For production environments, it is highly recommended to replace the default certificates located at
          <code class="bg-orange-100 text-orange-800 px-2 py-1 rounded-md text-sm font-mono">/etc/webber/cert.pem</code>
          and
          <code class="bg-orange-100 text-orange-800 px-2 py-1 rounded-md text-sm font-mono">/etc/webber/key.pem</code>
          with your own trusted TLS certificates.
        </p>
      </div>

      <!-- Service Management Section -->
      <div class="mt-10 pt-6 border-t-2 border-orange-300">
        <h2 class="text-3xl font-bold text-orange-500 mb-4">Service Management</h2>
        <p class="text-gray-700 mb-4 leading-relaxed">
          Manage the Webber service using standard systemd commands:
        </p>
        <pre
          class="bg-gray-800 text-green-400 p-4 rounded-lg text-left text-sm overflow-x-auto mb-8 shadow-inner"
          ><code>sudo systemctl status webber    # Check the status of the Webber service
sudo systemctl restart webber   # Restart the Webber service to apply configuration changes
sudo journalctl -u webber       # View the logs for the Webber service</code></pre>
      </div>

      <!-- Contributing Section -->
    <div class="mt-10 pt-6 border-t-2 border-orange-300">
  <h2 class="text-3xl font-bold text-orange-500 mb-4">Contributing</h2>
  <p class="text-gray-700 mb-6 leading-relaxed">
    Contributions, bug reports, and feature requests are highly welcome!
    <br>
    Please feel free to <a href="https://github.com/ElectronSz/webber/pulls" class="text-blue-600 hover:text-blue-800 font-medium underline transition duration-300 ease-in-out" target="_blank">open a Pull Request (PR)</a> or
    <a href="https://github.com/ElectronSz/webber/issues" class="text-blue-600 hover:text-blue-800 font-medium underline transition duration-300 ease-in-out" target="_blank">submit an issue</a> on the GitHub repository.
  </p>
</div>

      <!-- Footer -->
    <p class="text-sm text-gray-600 mt-10">
  Built in Eswatini with ❤️ by <a href="https://github.com/ElectronSz" class="text-blue-600 hover:text-blue-800 font-medium underline transition duration-300 ease-in-out">ElectronSz</a>.
 
  
</p>
<p class="text-sm text-gray-600 mt-1">
    GitHub Repo: <a href="https://github.com/ElectronSz/webber" class="text-blue-600 hover:text-blue-800 font-medium underline transition duration-300 ease-in-out">https://github.com/ElectronSz/webber</a> |
  Version: <a href="https://github.com/ElectronSz/webber/releases/tag/v1.0.3" class="text-blue-600 hover:text-blue-800 font-medium underline transition duration-300 ease-in-out">v1.0.3</a>
</p>
      <p class="text-xs text-gray-500 mt-2">
        This documentation is generated automatically from the Webber source code and is subject to change with each release.
      </p>
      
    </div>
  </body>
</html>
